\paragraph{链式法则}  
设 \(u = x^T x\)，则：
\[
\frac{\partial f}{\partial x} = \cos(\log(1+u)) \cdot \frac{1}{1+u} \cdot 2x
\]
整理得：
\[
\frac{\partial f}{\partial x} = \frac{2x \cos(\log(1+x^T x))}{1 + x^T x}
\]